(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,a){e.exports={box:"AddUserForm_box__3I-iQ",button:"AddUserForm_button__2SyH6",buttonText:"AddUserForm_buttonText__22dIE",icon:"AddUserForm_icon__1eE1J",iconRed:"AddUserForm_iconRed__qLUFh AddUserForm_icon__1eE1J",iconGreen:"AddUserForm_iconGreen__5Cn8w AddUserForm_icon__1eE1J",notification:"AddUserForm_notification__1NOxW",form:"AddUserForm_form__2vGQy",inputWrapper:"AddUserForm_inputWrapper__1Kfjp",input:"AddUserForm_input___7OpA",inputWarning:"AddUserForm_inputWarning__3DZg1 AddUserForm_input___7OpA",errorText:"AddUserForm_errorText__5G7K0"}},11:function(e,t,a){e.exports={wrapper:"App_wrapper__22TQh",header:"App_header__3oUKo",app:"App_app__36zWi",link:"App_link__3iXkv"}},12:function(e,t,a){e.exports={text:"UsersList_text__2UM_H"}},17:function(e,t,a){e.exports=a(29)},2:function(e,t,a){e.exports={user:"User_user__2FscB",text:"User_text__5WNdf",textShort:"User_textShort__2eDv8",button:"User_button__3qGOG",numberWrapper:"User_numberWrapper__2E5YK"}},22:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(14),i=a.n(s),o=(a(22),a(16)),c=a(5),l=a(6),m=a(9),u=a(7),p=a(10),d=a(11),h=a.n(d),_=a(12),f=a.n(_),E=a(2),b=a.n(E),x=a(3),U=function(e){var t=e.index,a=e.user,n=a.id,s=a.name,i=a.email,o=e.deleteUser;return r.a.createElement("div",{className:b.a.user},r.a.createElement("span",{className:"".concat(b.a.text," ").concat(b.a.textShort)},r.a.createElement("div",{className:b.a.numberWrapper},r.a.createElement("span",{className:b.a.number},t))),r.a.createElement("span",{className:b.a.text},s),r.a.createElement("span",{className:b.a.text},i),r.a.createElement("button",{onClick:function(){return o(n)},className:b.a.button},r.a.createElement(x.d,null)))},v=function(e){var t=e.users,a=e.deleteUser;return t.length>0?r.a.createElement("div",{className:f.a.list},t.map(function(e,t){return r.a.createElement(U,{key:t,index:t+1,user:e,deleteUser:a})})):r.a.createElement("p",{className:f.a.text},"Users list is empty.")},N=a(15),A=a(8),g=a(1),y=a.n(g),S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={formVisible:!1,name:"",nameError:"",email:"",emailError:""},a.nameInput=r.a.createRef(),a.handleClick=function(){a.props.users.length<10&&a.setState({formVisible:!0})},a.clearForm=function(){a.setState({name:"",nameError:"",email:"",emailError:""})},a.handleChange=function(e){a.setState(Object(A.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){if(e.preventDefault(),!a.validate()){var t={id:Date.now(),name:a.state.name,email:a.state.email};a.props.addUser(t),a.clearForm(),a.setState({formVisible:!1})}},a.validate=function(){var e=!1,t={nameError:"",emailError:""};return(a.state.name.length>20||!a.state.name.match(/^[a-zA-Z\s]*$/))&&(e=!0,t.nameError="Only letters, not longer than 20 characters"),a.state.name||(e=!0,t.nameError="Please fill this field"),a.state.email.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)||(e=!0,t.emailError="Enter a valid email."),a.props.users.forEach(function(n){n.email.toLowerCase()===a.state.email.toLowerCase()&&(e=!0,t.emailError="This email already exist")}),e&&a.setState(Object(N.a)({},t)),e},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){!this.nameInput.current||this.state.name||this.state.email||this.nameInput.current.focus()}},{key:"render",value:function(){var e=this;return this.state.formVisible?r.a.createElement("div",{className:y.a.box},r.a.createElement("form",{onSubmit:this.handleSubmit,action:"",className:y.a.form},r.a.createElement("div",{className:y.a.inputWrapper},r.a.createElement("input",{className:this.state.nameError?y.a.inputWarning:y.a.input,type:"text",name:"name",onChange:this.handleChange,value:this.state.name,placeholder:"Name...",ref:this.nameInput}),r.a.createElement("span",{className:y.a.errorText},this.state.nameError)),r.a.createElement("div",{className:y.a.inputWrapper},r.a.createElement("input",{className:this.state.emailError?y.a.inputWarning:y.a.input,type:"text",name:"email",onChange:this.handleChange,value:this.state.email,placeholder:"E-mail..."}),r.a.createElement("span",{className:y.a.errorText},this.state.emailError)),r.a.createElement("button",{className:y.a.button,type:"submit"},"submit"),this.state.name.length>0||this.state.email.length>0?r.a.createElement("button",{onClick:this.clearForm,className:y.a.buttonText},"Reset fields"):null)):r.a.createElement("div",{className:y.a.box},r.a.createElement("button",{onClick:this.handleClick,className:y.a.button},r.a.createElement(x.c,{className:y.a.icon})," ",r.a.createElement("span",null,"Add user")),!0===e.props.notification&&e.props.users.length<10?r.a.createElement("p",{className:y.a.notification},r.a.createElement(x.a,{className:y.a.iconGreen}),r.a.createElement("span",null,"You have successfully added an user.")):e.props.users.length>=10?r.a.createElement("p",{className:y.a.notification},r.a.createElement(x.b,{className:y.a.iconRed}),r.a.createElement("span",null,"You can't add new user because of a limit.")):e.props.users.length<10?null:void 0)}}]),t}(n.Component),F=a(4),O=a.n(F),j=function(){return r.a.createElement("div",{className:O.a.header},r.a.createElement("span",{className:"".concat(O.a.text," ").concat(O.a.textShort)},"lp"),r.a.createElement("span",{className:O.a.text},"name"),r.a.createElement("span",{className:O.a.text},"e-mail"))},w=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={users:[],notification:!1,handleSort:!1},a.addUser=function(e){fetch("https://jsonplaceholder.typicode.com/users",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){a.setState({users:Object(o.a)(a.state.users).concat([e]),notification:!0})})},a.deleteUser=function(e){a.setState({users:a.state.users.filter(function(t){return e!==t.id}),notification:!1})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://jsonplaceholder.typicode.com/users").then(function(e){return e.json()}).then(function(t){return e.setState({users:t})})}},{key:"render",value:function(){return r.a.createElement("div",{className:h.a.wrapper},r.a.createElement("div",{className:h.a.app},r.a.createElement(S,{notification:this.state.notification,users:this.state.users,addUser:this.addUser}),r.a.createElement(j,null),r.a.createElement(v,{users:this.state.users,deleteUser:this.deleteUser})))}}]),t}(n.Component);i.a.render(r.a.createElement(w,null),document.querySelector("#root"))},4:function(e,t,a){e.exports={header:"UsersListHeader_header__1sWoE",text:"UsersListHeader_text__2v9G8",textShort:"UsersListHeader_textShort__2H_E8"}}},[[17,2,1]]]);
//# sourceMappingURL=main.74252cb1.chunk.js.map